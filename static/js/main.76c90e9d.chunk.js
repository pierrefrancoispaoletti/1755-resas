(this["webpackJsonp1755-resas"]=this["webpackJsonp1755-resas"]||[]).push([[0],{186:function(e,t,n){},191:function(e,t,n){},196:function(e,t,n){},219:function(e,t,n){},220:function(e,t,n){},221:function(e,t,n){},222:function(e,t,n){},223:function(e,t,n){},224:function(e,t,n){},225:function(e,t,n){},226:function(e,t,n){},228:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(65),s=n.n(a),c=(n(186),n(9)),o=n.n(c),i=n(12),u=n(33),l=n(13),b=n(141),d=n(22),j=n(23),p=n(246),h=n(241),m=(n(191),n(1)),f=function(){return Object(m.jsxs)("div",{className:"footer",children:[Object(m.jsx)("div",{children:Object(m.jsxs)(p.a,{as:"h3",children:["Retrouvez nous sur :"," "]})}),Object(m.jsxs)("div",{className:"footer__icons",children:[Object(m.jsx)("a",{target:"_blank",href:"fb://profile/196458368600",rel:"noreferrer",children:Object(m.jsx)(j.a,{style:{color:"#3B5998",background:"white",borderRadius:"100%"},size:"3x",icon:b.a,pull:"left"})}),Object(m.jsx)("a",{target:"_blank",href:"https://www.instagram.com/1755baravin/",rel:"noreferrer",children:Object(m.jsx)(j.a,{style:{color:"#3F729B",borderRadius:"100%"},size:"3x",icon:b.b,pull:"right"})})]}),Object(m.jsx)(h.a,{}),Object(m.jsx)("div",{children:Object(m.jsxs)(p.a,{as:"h3",children:["Contactez nous !"," "]})}),Object(m.jsxs)("div",{className:"footer__icons",children:[Object(m.jsx)("a",{href:"mailto:christophemartinetti@baravin1755.com",children:Object(m.jsx)(j.a,{style:{"--fa-primary-color":"black","--fa-secondary-color":"white","--fa-secondary-opacity":.8},size:"3x",icon:d.c,pull:"left"})}),Object(m.jsx)("a",{href:"tel:0609542757",children:Object(m.jsx)(j.a,{style:{"--fa-primary-color":"firebrick","--fa-secondary-color":"black","--fa-primary-opacity":1,"--fa-secondary-opacity":1},size:"3x",icon:d.e,pull:"right"})})]}),Object(m.jsx)(h.a,{}),Object(m.jsxs)("div",{className:"footer__copyright",style:{color:"white"},children:["Copyright \xa9 ",Object(m.jsx)("a",{style:{color:"white"},href:"https://baravin1755.com",children:Object(m.jsx)("span",{children:"Le 1755 \xa0"})}),Object(m.jsx)("span",{children:" ".concat((new Date).getFullYear(),". ")})]}),Object(m.jsx)("div",{className:"footer__alvp",children:Object(m.jsxs)("a",{style:{color:"white",fontSize:"1em"},href:"mailto:pef@alvp-developments.com",children:["Made with",Object(m.jsx)(j.a,{className:"alvp__icon",color:"darkred",icon:d.d,size:"2x"}),"by ALVP-Developments Ajaccio"]})})]})},g=n(67),x=n(229),O=(n(196),function(e){var t=e.user,n=e.loading;return Object(m.jsxs)("div",{className:"topappbar",children:[Object(m.jsx)(g.b,{to:"/",children:Object(m.jsx)("div",{className:"topappbar-image",children:Object(m.jsx)("img",{src:"./images/1755small.png",alt:"logo 1755"})})}),Object(m.jsxs)("div",{className:"topappbar-icons",children:[Object(m.jsx)(g.b,{to:"/login",children:Object(m.jsx)(x.a,{icon:!0,color:t?"green":"grey",circular:!0,disabled:n,loading:n,children:Object(m.jsx)(j.a,{size:"3x",icon:d.i})})}),"isAdmin"===t&&Object(m.jsx)(g.b,{to:"/bookings",children:Object(m.jsx)(x.a,{icon:!0,circular:!0,disabled:n,loading:n,children:Object(m.jsx)(j.a,{size:"3x",icon:d.a})})})]})]})}),k=n(244),v=n(245),y=function(e){var t=e.message;return Object(m.jsx)(k.a,{animation:"jiggle",duration:500,visible:Object.keys(t).length>0,children:Object(m.jsxs)(v.a,{style:{position:"fixed",bottom:25,left:0,right:0,margin:"0 12px",zIndex:"1000",display:Object.keys(t).length>0&&""!==t.message?"flex":"none",border:"3px solid white",borderRadius:"50px",background:t.success?"#56ea65":"#f46161"},children:[Object(m.jsx)(j.a,{icon:t.success?d.b:d.g,color:t.success?"green":"red",size:"2x"}),Object(m.jsx)("span",{style:{display:"inline-block",alignSelf:"center",fontSize:"1.3em",paddingLeft:"12px"},children:t.message})]})})},w=n(98),N=n(46),C=n.n(N),z="https://le-1755.herokuapp.com",D="resas-1755",B=function e(){Object(w.a)(this,e)};B.postAdminRegistrationToken=function(){var e=Object(i.a)(o.a.mark((function e(t,n){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C()({method:"post",url:"".concat(z,"/api/bookings/registrationToken"),data:{registrationKey:n},headers:{Authorization:"Bearer "+t}});case 3:if(!(r=e.sent)){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",!1);case 9:e.next=14;break;case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",!1);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}(),B.getAllBookings=function(){var e=Object(i.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C()({method:"get",url:"".concat(z,"/api/bookings/allBookings"),headers:{Authorization:"Bearer "+t}});case 3:if(!(n=e.sent)){e.next=8;break}return e.abrupt("return",n);case 8:return e.abrupt("return",!1);case 9:e.next=14;break;case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",!1);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),B.postBooking=function(){var e=Object(i.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",!1);case 2:return e.prev=2,e.next=5,C()({method:"post",url:"".concat(z,"/api/bookings/createBooking"),data:{booking:t}});case 5:if(!(n=e.sent)){e.next=10;break}return e.abrupt("return",n);case 10:return e.abrupt("return",!1);case 11:e.next=16;break;case 13:return e.prev=13,e.t0=e.catch(2),e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t){return e.apply(this,arguments)}}(),B.updateBooking=function(){var e=Object(i.a)(o.a.mark((function e(t,n){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",!1);case 2:return e.prev=2,e.next=5,C()({method:"post",url:"".concat(z,"/api/bookings/updateBooking"),data:{update:t},headers:{Authorization:"Bearer "+n}});case 5:if(!(r=e.sent)){e.next=10;break}return e.abrupt("return",r);case 10:return e.abrupt("return",!1);case 11:e.next=16;break;case 13:return e.prev=13,e.t0=e.catch(2),e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t,n){return e.apply(this,arguments)}}(),B.deleteBooking=function(){var e=Object(i.a)(o.a.mark((function e(t,n){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",!1);case 2:return e.prev=2,e.next=5,C()({method:"delete",url:"".concat(z,"/api/bookings/deleteBooking"),data:{update:t},headers:{Authorization:"Bearer "+n}});case 5:if(!(r=e.sent)){e.next=10;break}return e.abrupt("return",r);case 10:return e.abrupt("return",!1);case 11:e.next=16;break;case 13:return e.prev=13,e.t0=e.catch(2),e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t,n){return e.apply(this,arguments)}}(),B.getConfig=Object(i.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C()({method:"get",url:"".concat(z,"/api/config/getConfig")});case 3:if(!(t=e.sent)){e.next=8;break}return e.abrupt("return",t);case 8:return e.abrupt("return",!1);case 9:e.next=14;break;case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",!1);case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),B.updateConfig=function(){var e=Object(i.a)(o.a.mark((function e(t,n){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",!1);case 2:return e.prev=2,e.next=5,C()({method:"post",url:"".concat(z,"/api/config/updateConfig"),data:{update:t},headers:{Authorization:"Bearer "+n}});case 5:if(!(r=e.sent)){e.next=10;break}return e.abrupt("return",r);case 10:return e.abrupt("return",!1);case 11:e.next=16;break;case 13:return e.prev=13,e.t0=e.catch(2),e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t,n){return e.apply(this,arguments)}}(),B.auth=function(){var e=Object(i.a)(o.a.mark((function e(t){var n,r,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",!1);case 2:return n=t.email,r=t.password,e.prev=3,e.next=6,C()({method:"post",url:"".concat(z,"/auth/login"),data:{email:n,password:r}});case 6:if(!(a=e.sent)){e.next=9;break}return e.abrupt("return",a);case 9:e.next=14;break;case 11:return e.prev=11,e.t0=e.catch(3),e.abrupt("return",!1);case 14:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t){return e.apply(this,arguments)}}();var S=B,F=n(243),A=n(93),E=n(125),R=function(e,t,n){var r={};r[e.target.name]=e.target.value,t(Object(A.a)(Object(A.a)({},n),r))},I=function(e){var t=new Date(e).getDate()-(new Date).getDate();return 0===t?[0,"Aujourd'hui"]:1===t?[1,"Demain"]:t<0?[-1,"Il y \xe0 ".concat(Math.abs(t)," jours")]:t>1?[2,"Dans ".concat(t," jours")]:void 0},_=function(e,t,n){return e.filter((function(e){return t(e.bookingDate)[0]===n}))},T=function(e){var t=e.handleSubmitForm,n=e.credentials,r=e.setCredentials,a=e.loading;return Object(m.jsxs)(F.a,{onSubmit:t,children:[Object(m.jsxs)(F.a.Field,{required:!0,error:!n.email,children:[Object(m.jsx)("label",{htmlFor:"",children:"Email"}),Object(m.jsx)("input",{type:"email",name:"email",value:n.email,onChange:function(e){return R(e,r,n)}})]}),Object(m.jsxs)(F.a.Field,{required:!0,error:!n.password,children:[Object(m.jsx)("label",{htmlFor:"",children:"Mot de passe"}),Object(m.jsx)("input",{type:"password",name:"password",value:n.password,onChange:function(e){return R(e,r,n)}})]}),Object(m.jsx)(F.a.Field,{children:Object(m.jsx)(x.a,{size:"massive",circular:!0,loading:a,disabled:a||!n.email||!n.password,color:"blue",type:"submit",content:"Connexion"})})]})},V=function(e){var t=e.setUser,n=e.setMessage,a=Object(r.useState)({email:"",password:""}),s=Object(u.a)(a,2),c=s[0],l=s[1],b=Object(r.useState)(!1),d=Object(u.a)(b,2),j=d[0],p=d[1],h=function(){var e=Object(i.a)(o.a.mark((function e(r){var a,s,i,u,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),p(!0),e.next=4,S.auth(c);case 4:(a=e.sent)&&200===a.data.status?(s=a.data,i=s.role,u=s.message,l=s.token,n({success:!0,message:u}),p(!1),localStorage.setItem("token-".concat(D),l),t(i)):(p(!1),n({success:!1,message:a.data.message||"Identifiants incorrects"}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsx)("div",{className:"home",children:Object(m.jsx)(T,{handleSubmitForm:h,credentials:c,setCredentials:l,loading:j})})},L=n(59),M=n(100),P=(n(219),function(e){var t=e.bookerName,n=e.bookerNumber,r=e.bookingDate,a=e.bookingTime,s=e.bookingValidatedByAdmin;return Object(m.jsxs)("div",{className:"booking",style:{border:s?"3px solid green":!1===s?"3px solid pink":""},children:[Object(m.jsx)(M.a,{color:s?"green":!1===s?"pink":"blue",ribbon:!0,children:Object(m.jsx)("span",{className:"booking-ribbon ".concat(null===s&&"animate"),children:s?"Accept\xe9e":!1===s?"Refus\xe9e":"New !"})}),Object(m.jsx)("h2",{className:"booking-title",children:t}),Object(m.jsxs)("p",{className:"booking-date",children:[Object(m.jsxs)("span",{children:[I(r)[1],", Le "]}),Object(m.jsx)("span",{children:new Date(r).toLocaleString("fr-FR",{weekday:"long",day:"numeric",month:"long",year:"numeric"})}),Object(m.jsxs)("p",{children:[" \xe0 ",a]})]}),Object(m.jsxs)("p",{className:"booking-number",children:["Pour : ",Object(m.jsx)("span",{children:n})," personnes"]})]})}),q=Object(r.memo)(P),J=(n(220),function(e){var t=e.booking,n=e.handleValidateBooking,r=e.handleDeleteBooking;return Object(m.jsxs)("div",{className:"bookingcontrols",children:[null===t.bookingValidatedByAdmin&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(x.a,{icon:!0,color:"green",size:"big",circular:!0,onClick:function(){return n(t,!0)},children:Object(m.jsx)(j.a,{fixedWidth:!0,size:"2x",color:"white",icon:d.b})}),Object(m.jsx)(x.a,{icon:!0,size:"big",color:"pink",circular:!0,onClick:function(){return n(t,!1)},children:Object(m.jsx)(j.a,{fixedWidth:!0,size:"2x",color:"white",icon:d.g})})]}),null!==t.bookingValidatedByAdmin&&Object(m.jsx)(x.a,{icon:!0,color:"red",size:"massive",circular:!0,onClick:function(){return r(t)},children:Object(m.jsx)(j.a,{icon:d.h})})]})}),H=Object(r.memo)(J),W=(n(221),function(e){var t=e.setFilter,n=e.bookings;return Object(m.jsxs)("div",{className:"filterbuttons",children:[Object(m.jsxs)("div",{style:{position:"relative"},children:[Object(m.jsx)(x.a,{className:"filterbuttons-button",size:"massive",circular:!0,color:"red",content:"Jours Pr\xe9c\xe9dents",onClick:function(){t(-1)}}),Object(m.jsx)(M.a,{style:{position:"absolute",top:"-11px",left:"3px"},color:"blue",circular:!0,children:_(n,I,-1).length})]}),Object(m.jsxs)("div",{style:{position:"relative"},children:[Object(m.jsx)(x.a,{className:"filterbuttons-button",size:"massive",circular:!0,color:"green",content:"Aujourd'hui",onClick:function(){t(0)}}),Object(m.jsx)(M.a,{style:{position:"absolute",top:"-11px",left:"3px"},color:"blue",circular:!0,children:_(n,I,0).length})]}),Object(m.jsxs)("div",{style:{position:"relative"},children:[Object(m.jsx)(x.a,{className:"filterbuttons-button",size:"massive",circular:!0,color:"purple",content:"Demain",onClick:function(){t(1)}}),Object(m.jsx)(M.a,{style:{position:"absolute",top:"-11px",left:"3px"},color:"blue",circular:!0,children:_(n,I,1).length})]}),Object(m.jsxs)("div",{style:{position:"relative"},children:[Object(m.jsx)(x.a,{className:"filterbuttons-button",circular:!0,size:"massive",color:"yellow",content:"Jours Suivants",onClick:function(){return t(2)}}),Object(m.jsx)(M.a,{style:{position:"absolute",top:"-11px",left:"3px"},color:"blue",circular:!0,children:_(n,I,2).length})]})]})}),K=n(45),U=n(58),Y=(n(222),function(){return Object(m.jsx)("div",{className:"nobookings",children:Object(m.jsx)("p",{children:"D\xe9sol\xe9 , Il n'y a pas de reservations pour le moment :-("})})});function G(){return(G=Object(i.a)(o.a.mark((function e(t,n,r,a){var s,c,i,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(!0),e.next=3,S.getAllBookings(a);case 3:(s=e.sent)&&200===s.data.status?(c=s.data,i=c.bookings,u=c.message,i.sort((function(e,t){return new Date(e.bookingDate)-new Date(t.bookingDate)})).sort((function(e,t){return(null===t.bookingValidatedByAdmin)-(null===e.bookingValidatedByAdmin)})),n(Object(L.a)(i)),t(!1),r({success:!0,message:u})):(t(!1),r({success:!1,message:"Il y a eu un probl\xe9me"}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Q(){return(Q=Object(i.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.postAdminRegistrationToken(t,n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var X=function(e){var t=e.setMessage,n=e.bookings,a=e.setBookings,s=Object(r.useState)(!1),c=Object(u.a)(s,2),l=c[0],b=c[1],d=Object(r.useState)(0),j=Object(u.a)(d,2),p=j[0],f=j[1];Object(r.useEffect)((function(){if("android"===U.a.getPlatform()||"ios"===U.a.getPlatform()){var e=localStorage.getItem("token-".concat(D)),t=Object(E.a)(e).user;K.a.requestPermissions().then((function(e){"granted"===e.receive&&K.a.register()})),K.a.addListener("registration",(function(n){t.registrationKey!==n.value&&function(e,t){Q.apply(this,arguments)}(e,n)})),K.a.addListener("registrationError",(function(e){})),K.a.removeAllDeliveredNotifications()}}),[]),Object(r.useEffect)((function(){var e=localStorage.getItem("token-".concat(D));!function(e,t,n,r){G.apply(this,arguments)}(b,a,t,e)}),[]);var g=function(){var e=Object(i.a)(o.a.mark((function e(r,s){var c,i,u,l,d,j;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),c=localStorage.getItem("token-".concat(D)),r.bookingValidatedByAdmin=s,e.next=5,S.updateBooking(r,c);case 5:(i=e.sent)&&200===i.data.status?(u=i.data,l=u.updatedBooking,d=u.message,j=n.findIndex((function(e){return e._id===r._id})),n.splice(j,1),a([].concat(Object(L.a)(n),[l])),b(!1),t({success:!0,message:d})):(b(!1),t({success:!1,message:"Il y \xe0 eu un probl\xe8me"}));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),x=function(){var e=Object(i.a)(o.a.mark((function e(r){var s,c,i,u,l,d;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),s=localStorage.getItem("token-".concat(D)),e.next=4,S.deleteBooking(r,s);case 4:(c=e.sent)&&200===c.data.status?(i=c.data,u=i.deletedBooking,l=i.message,d=n.findIndex((function(e){return e._id===u._id})),n.splice(d,1),a(Object(L.a)(n)),b(!1),t({success:!0,message:l})):(b(!1),t({success:!1,message:"Il y \xe0 eu un probl\xe8me"}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsxs)("div",{children:[Object(m.jsx)(W,{setFilter:f,bookings:n,filter:p}),n.length>0&&_(n,I,p).map((function(e){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(H,{booking:e,loading:l,handleValidateBooking:g,handleDeleteBooking:x}),Object(m.jsx)(q,Object(A.a)(Object(A.a)({},e),{},{loading:l})),Object(m.jsx)(h.a,{})]})})),0===_(n,I,p).length&&Object(m.jsx)(Y,{})]})},Z=Object(r.memo)(X),$=n(102),ee=n.n($),te=n(144),ne=n(145),re=n(103),ae=n(248),se=function(e){var t=e.resaOpen,n=e.handleChangeResaOpen;return Object(m.jsx)(ae.a,{type:"checkbox",toggle:!0,checked:t,onChange:function(){return n()},label:t?"Reservations activ\xe9es":"R\xe9servations desactiv\xe9es"})},ce=n(71),oe=function(e){var t=e.handleEmptyForm;return Object(m.jsxs)(x.a,{size:"massive",circular:!0,color:"blue",icon:!0,type:"button",labelPosition:"left",onClick:function(){return t()},children:[Object(m.jsx)(ce.a,{children:Object(m.jsx)(j.a,{style:{marginTop:"5px"},size:"2x",icon:d.f})}),"Recharger"]})},ie=n(242),ue=function(e){var t=e.handleSubmit,n=e.booking,r=e.setBooking,a=e.loading;return Object(m.jsxs)(F.a,{onSubmit:t,children:[Object(m.jsxs)(F.a.Field,{required:!0,error:!n.bookerName,children:[Object(m.jsx)("label",{htmlFor:"bookerName",children:"Votre nom"}),Object(m.jsx)("input",{id:"bookerName",name:"bookerName",value:n.bookerName,autoComplete:"name",placeholder:"Votre nom et pr\xe9nom",type:"text",onChange:function(e){return R(e,r,n)}})]}),Object(m.jsxs)(F.a.Field,{required:!0,error:!n.bookerEmail,children:[Object(m.jsx)("label",{htmlFor:"bookerEmail",children:"Votre Email"}),Object(m.jsx)("input",{id:"bookerEmail",name:"bookerEmail",value:n.bookerEmail,autoComplete:"email",type:"email",placeholder:"Votre email : toto@toto.fr ...",onChange:function(e){return R(e,r,n)}})]}),Object(m.jsxs)(F.a.Field,{required:!0,error:!n.bookerNumber,children:[Object(m.jsx)("label",{htmlFor:"bookerNumber",children:"Nombre de personnes"}),Object(m.jsx)("input",{id:"bookerNumber",name:"bookerNumber",value:n.bookerNumber,min:1,step:1,placeholder:"Votre nombre : 5...",type:"number",onChange:function(e){return R(e,r,n)}})]}),Object(m.jsxs)(F.a.Field,{required:!0,error:!n.bookingDate,children:[Object(m.jsx)("label",{htmlFor:"bookingDate",children:"Date de votre reservation"}),Object(m.jsx)(ie.a,{id:"bookingDate",name:"bookingDate",value:n.bookingDate,placeholder:"La date de votre r\xe9servation",type:"date",onChange:function(e){return R(e,r,n)}})]}),Object(m.jsxs)(F.a.Field,{required:!0,error:!n.bookingTime,children:[Object(m.jsx)("label",{htmlFor:"bookingTime",children:"Heure de votre reservation"}),Object(m.jsx)("span",{style:{color:"white",textAlign:"center",fontSize:"1.3em",fontWeight:"bold"},children:"Minimum 18h00"}),Object(m.jsx)(ie.a,{id:"bookingTime",name:"bookingTime",value:n.bookingTime,placeholder:"L'Heure de votre r\xe9servation",min:"0",type:"time",onChange:function(e){return R(e,r,n)}})]}),Object(m.jsx)(F.a.Field,{children:Object(m.jsx)(x.a,{circular:!0,size:"massive",loading:a,disabled:a||!n.bookerName||!n.bookerNumber||!n.bookerEmail||!n.bookingDate||!n.bookingTime,color:"blue",type:"submit",content:"Je Reserve !"})})]})},le=(n(223),function(e){var t=e.success,n=e.error;return Object(m.jsx)(p.a,{className:"homeheader",as:"h1",style:{background:t?"green":n?"red":"grey"},children:t||n?t?"Votre r\xe9servation \xe0 \xe9t\xe9 effectu\xe9e avec succ\xe9s , vous allez recevoir un mail de confirmation":n?"Votre r\xe9servation \xe0 \xe9chou\xe9e, veuillez recommencer":"Reservez Votre table Maintenant":"Reservez Votre table Maintenant"})}),be=(n(224),function(e){var t=e.loading;return Object(m.jsx)("div",{className:"homemadeloader",children:t&&Object(m.jsx)("div",{className:"nobookings homemadeloader-loader",children:Object(m.jsxs)("p",{children:[Object(m.jsx)("span",{children:"C"}),Object(m.jsx)("span",{children:"H"}),Object(m.jsx)("span",{children:"A"}),Object(m.jsx)("span",{children:"R"}),Object(m.jsx)("span",{children:"G"}),Object(m.jsx)("span",{children:"E"}),Object(m.jsx)("span",{children:"M"}),Object(m.jsx)("span",{children:"E"}),Object(m.jsx)("span",{children:"N"}),Object(m.jsx)("span",{children:"T"}),Object(m.jsx)("span",{children:"."}),Object(m.jsx)("span",{children:" "}),Object(m.jsx)("span",{children:"."}),Object(m.jsx)("span",{children:" "}),Object(m.jsx)("span",{children:"."}),Object(m.jsx)("span",{children:" "})]})})})}),de=(n(225),function(e){var t=e.user,n=e.setMessage,a=e.resaOpen,s=e.config,c=e.setConfig,o=Object(r.useState)({bookerName:"",bookerNumber:"",bookingDate:"",bookingTime:"",bookerEmail:""}),i=Object(re.a)(o,2),u=i[0],l=i[1],b=Object(r.useState)(!1),d=Object(re.a)(b,2),j=d[0],h=d[1],f=Object(r.useState)(!1),g=Object(re.a)(f,2),x=g[0],O=g[1],v=Object(r.useState)(!1),y=Object(re.a)(v,2),w=y[0],N=y[1];Object(r.useEffect)((function(){var e=new Date,t=e.getDate(),n=e.getMonth()+1,r=e.getFullYear();l(Object(ne.a)(Object(ne.a)({},u),{},{bookingDate:"".concat(r,"-0").concat(n,"-").concat(t),bookingTime:"18:00"}))}),[]);var C=function(){var e=Object(te.a)(ee.a.mark((function e(){var t,r,a;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),t={_id:s._id,resaOpen:!s.resaOpen},r=localStorage.getItem("token-".concat(D)),e.next=5,S.updateConfig(t,r);case 5:(a=e.sent)&&200===a.data.status?(c(a.data.updatedConfig),n({success:!0,message:a.data.message}),h(!1)):(n({success:!1,message:a.data.message||"il y a eu un probl\xe8me"}),h(!1));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=Object(te.a)(ee.a.mark((function e(t){var r;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),h(!0),e.next=4,S.postBooking(u);case 4:(r=e.sent)&&200===r.data.status?(h(!1),n({success:!0,message:r.data.message}),N(!1),O(!0)):(h(!1),n({success:!1,message:"il y eu un probl\xe9me lors de votre r\xe9servation veuillez reessayer"}),N(!0),O(!1));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsxs)("div",{className:"home",children:[Object(m.jsx)("a",{href:"https://apps.apple.com/fr/app/1755-r%C3%A9servation/id1581182779?itsct=apps_box_badge&itscg=30200",style:{display:"inline-block",overflow:"hidden",borderRadius:"13px",width:"250px",height:"83px"},children:Object(m.jsx)("img",{src:"https://tools.applemediaservices.com/api/badges/download-on-the-app-store/black/fr-fr?size=250x83&releaseDate=1628899200&h=e8c99d2716361f18893a828bf513b8ef",alt:"Download on the App Store",style:{borderRadius:"13px",width:"250px",height:"83px"}})}),"isAdmin"===t&&Object(m.jsx)(se,{resaOpen:a,handleChangeResaOpen:C}),Object(m.jsx)(be,{loading:j}),!j&&a?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(le,{success:x,error:w}),!x&&!w&&a&&Object(m.jsx)(k.a,{animation:"fade down",duration:300,visible:!x||!w,children:Object(m.jsx)(ue,{handleSubmit:z,setBooking:l,booking:u,loading:j})}),(w||x)&&Object(m.jsx)(oe,{handleEmptyForm:function(){l({bookerName:"",bookerNumber:"",bookingDate:"",bookingTime:"",bookerEmail:""}),O(!1),N(!1),h(!1)}})]}):!j&&Object(m.jsx)(p.a,{as:"h1",className:"homeheader",children:"Les r\xe9servations sont d\xe9sactiv\xe9es pour le moment , revenez demain !"})]})}),je=(n(226),function(){var e=Object(r.useState)(""),t=Object(u.a)(e,2),n=t[0],a=t[1],s=Object(r.useState)({}),c=Object(u.a)(s,2),b=c[0],d=c[1],j=Object(r.useState)({}),p=Object(u.a)(j,2),g=p[0],x=p[1],k=Object(r.useState)(!1),v=Object(u.a)(k,2),w=v[0],N=v[1],C=Object(r.useState)([]),z=Object(u.a)(C,2),B=z[0],F=z[1];return Object(r.useEffect)((function(){0!==Object.keys(b).length&&setTimeout((function(){d({})}),3e3)}),[b]),Object(r.useEffect)((function(){var e=localStorage.getItem("token-".concat(D));function t(){return(t=Object(i.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N(!0),e.next=3,S.getConfig();case 3:(t=e.sent)&&200===t.data.status?(x(t.data.config),N(!1)):(N(!1),d({success:!1,message:t.data.message||"Impossible de r\xe9cup\xe9rer la configuration, contacter l'administrateur"}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}e&&function(e,t){if(e){var n=Object(E.a)(e),r=n.user,a=n.exp,s=r.role;return!(Date.now()>1e3*a)&&(t(s),!0)}return!1}(e,a)?d({success:!0,message:"Re-Conn\xe9ct\xe9"}):localStorage.removeItem("token-".concat(D)),function(){t.apply(this,arguments)}()}),[]),Object(r.useEffect)((function(){"android"!==U.a.getPlatform()&&"ios"!==U.a.getPlatform()||(K.a.addListener("pushNotificationReceived",(function(e){})),K.a.addListener("pushNotificationActionPerformed",(function(e){})))}),[]),Object(m.jsxs)("div",{className:"app",children:[Object(m.jsx)(O,{user:n,loading:w}),Object(m.jsx)(h.a,{}),Object(m.jsx)(y,{message:b}),Object(m.jsxs)(l.d,{children:[Object(m.jsx)(l.b,{exact:!0,path:"/",children:Object(m.jsx)(de,{user:n,message:b,setMessage:d,resaOpen:g.resaOpen,config:g,setConfig:x})}),Object(m.jsx)(l.b,{path:"/login",children:n?Object(m.jsx)(l.a,{to:"/bookings"}):Object(m.jsx)(V,{setUser:a,setMessage:d})}),Object(m.jsx)(l.b,{path:"/bookings",children:n?Object(m.jsx)(Z,{setMessage:d,bookings:B,setBookings:F}):Object(m.jsx)(l.a,{to:"/login"})})]}),Object(m.jsx)(h.a,{}),Object(m.jsx)(f,{})]})}),pe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,249)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),s(e),c(e)}))};n(227);s.a.render(Object(m.jsx)(g.a,{basename:"/",children:Object(m.jsx)(je,{})}),document.getElementById("root")),pe()}},[[228,1,2]]]);
//# sourceMappingURL=main.76c90e9d.chunk.js.map