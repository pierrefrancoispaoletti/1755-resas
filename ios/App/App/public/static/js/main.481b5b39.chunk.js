(this["webpackJsonp1755-resas"]=this["webpackJsonp1755-resas"]||[]).push([[0],{179:function(e,t,n){},198:function(e,t,n){},207:function(e,t,n){},208:function(e,t,n){},214:function(e,t,n){},215:function(e,t,n){},216:function(e,t,n){},217:function(e,t,n){},219:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(60),s=n.n(a),c=(n(179),n(9)),o=n.n(c),i=n(11),u=n(21),l=n(12),b=n(238),d=n(237),j=n(233),p=n(232),h=n(235),f=n(92),x=n(95),g=n(57),m=n.n(g),O="http://localhost:5000",v="resas-1755",k=function e(){Object(x.a)(this,e)};k.getAllBookings=function(){var e=Object(i.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m()({method:"get",url:"".concat(O,"/api/bookings/allBookings"),headers:{Authorization:"Bearer "+t}});case 3:if(!(n=e.sent)){e.next=8;break}return e.abrupt("return",n);case 8:return e.abrupt("return",!1);case 9:e.next=14;break;case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",!1);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),k.postBooking=function(){var e=Object(i.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",!1);case 2:return e.prev=2,e.next=5,m()({method:"post",url:"".concat(O,"/api/bookings/createBooking"),data:{booking:t}});case 5:if(!(n=e.sent)){e.next=10;break}return e.abrupt("return",n);case 10:return e.abrupt("return",!1);case 11:e.next=16;break;case 13:return e.prev=13,e.t0=e.catch(2),e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t){return e.apply(this,arguments)}}(),k.updateBooking=function(){var e=Object(i.a)(o.a.mark((function e(t,n){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",!1);case 2:return e.prev=2,e.next=5,m()({method:"post",url:"".concat(O,"/api/bookings/updateBooking"),data:{update:t},headers:{Authorization:"Bearer "+n}});case 5:if(!(r=e.sent)){e.next=10;break}return e.abrupt("return",r);case 10:return e.abrupt("return",!1);case 11:e.next=16;break;case 13:return e.prev=13,e.t0=e.catch(2),e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t,n){return e.apply(this,arguments)}}(),k.deleteBooking=function(){var e=Object(i.a)(o.a.mark((function e(t,n){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",!1);case 2:return e.prev=2,e.next=5,m()({method:"delete",url:"".concat(O,"/api/bookings/deleteBooking"),data:{update:t},headers:{Authorization:"Bearer "+n}});case 5:if(!(r=e.sent)){e.next=10;break}return e.abrupt("return",r);case 10:return e.abrupt("return",!1);case 11:e.next=16;break;case 13:return e.prev=13,e.t0=e.catch(2),e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t,n){return e.apply(this,arguments)}}(),k.getConfig=Object(i.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m()({method:"get",url:"".concat(O,"/api/config/getConfig")});case 3:if(!(t=e.sent)){e.next=8;break}return e.abrupt("return",t);case 8:return e.abrupt("return",!1);case 9:e.next=14;break;case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",!1);case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),k.updateConfig=function(){var e=Object(i.a)(o.a.mark((function e(t,n){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",!1);case 2:return e.prev=2,e.next=5,m()({method:"post",url:"".concat(O,"/api/config/updateConfig"),data:{update:t},headers:{Authorization:"Bearer "+n}});case 5:if(!(r=e.sent)){e.next=10;break}return e.abrupt("return",r);case 10:return e.abrupt("return",!1);case 11:e.next=16;break;case 13:return e.prev=13,e.t0=e.catch(2),e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t,n){return e.apply(this,arguments)}}(),k.auth=function(){var e=Object(i.a)(o.a.mark((function e(t){var n,r,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",!1);case 2:return n=t.email,r=t.password,e.prev=3,e.next=6,m()({method:"post",url:"".concat(O,"/auth/login"),data:{email:n,password:r}});case 6:if(!(a=e.sent)){e.next=9;break}return e.abrupt("return",a);case 9:e.next=14;break;case 11:return e.prev=11,e.t0=e.catch(3),e.abrupt("return",!1);case 14:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t){return e.apply(this,arguments)}}();var y=k,w=(n(198),n(24)),N=n(29),B=n(91),C=function(e,t,n){var r={};r[e.target.name]=e.target.value,t(Object(B.a)(Object(B.a)({},n),r))},D=function(e){var t=new Date(e).getDate()-(new Date).getDate();return 0===t?[0,"Aujourd'hui"]:1===t?[1,"Demain"]:t<0?[-1,"Il y \xe0 ".concat(Math.abs(t)," jours")]:t>1?[2,"Dans ".concat(t," jours")]:void 0},z=function(e,t,n){return e.filter((function(e){return t(e.bookingDate)[0]===n}))},S=n(2),F=function(e){var t=e.user,n=e.setMessage,a=e.resaOpen,s=e.config,c=e.setConfig,l=Object(r.useState)({bookerName:"",bookerNumber:{},bookingDate:"",bookingTime:"",bookerEmail:""}),x=Object(u.a)(l,2),g=x[0],m=x[1],O=Object(r.useState)(!1),k=Object(u.a)(O,2),B=k[0],D=k[1],z=Object(r.useState)(!1),F=Object(u.a)(z,2),A=F[0],_=F[1],I=Object(r.useState)(!1),V=Object(u.a)(I,2),E=V[0],R=V[1],L=function(){var e=Object(i.a)(o.a.mark((function e(){var t,r,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return D(!0),t={_id:s._id,resaOpen:!s.resaOpen},r=localStorage.getItem("token-".concat(v)),e.next=5,y.updateConfig(t,r);case 5:(a=e.sent)&&200===a.data.status?(c(a.data.updatedConfig),n({success:!0,message:a.data.message}),D(!1)):(n({success:!1,message:a.data.message||"il y a eu un probl\xe8me"}),D(!1));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=Object(i.a)(o.a.mark((function e(t){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),D(!0),e.next=4,y.postBooking(g);case 4:(r=e.sent)&&200===r.data.status?(D(!1),n({success:!0,message:r.data.message}),R(!1),_(!0)):(D(!1),n({success:!1,message:"il y eu un probl\xe9me lors de votre r\xe9servation veuillez reessayer"}),R(!0),_(!1));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(S.jsxs)("div",{className:"home",children:["isAdmin"===t&&Object(S.jsx)(b.a,{type:"checkbox",toggle:!0,checked:a,onChange:function(){return L()},label:a?"Reservations activ\xe9es":"R\xe9servations desactiv\xe9es"}),a?Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(d.a,{as:"h1",style:{background:A?"green":E?"red":"inherit"},children:A||E?A?"Votre r\xe9servation \xe0 \xe9t\xe9 effectu\xe9e avec succ\xe9s , vous allez recevoir un mail de confirmation":E?"Votre r\xe9servation \xe0 \xe9chou\xe9e, veuillez recommencer":"Reservez Votre table Maintenant !":"Reservez Votre table Maintenant !"}),!A&&!E&&a&&Object(S.jsx)(j.a,{animation:"fade down",duration:300,visible:!A||!E,children:Object(S.jsxs)(p.a,{onSubmit:M,children:[Object(S.jsxs)(p.a.Field,{required:!0,error:!g.bookerName,children:[Object(S.jsx)("label",{children:"Votre nom"}),Object(S.jsx)("input",{name:"bookerName",value:g.bookerName,type:"text",onChange:function(e){return C(e,m,g)}})]}),Object(S.jsxs)(p.a.Field,{required:!0,error:!g.bookerEmail,children:[Object(S.jsx)("label",{children:"Votre Email"}),Object(S.jsx)("input",{name:"bookerEmail",value:g.bookerEmail,type:"email",onChange:function(e){return C(e,m,g)}})]}),Object(S.jsxs)(p.a.Field,{required:!0,error:!g.bookerNumber,children:[Object(S.jsx)("label",{children:"Votre Nombre"}),Object(S.jsx)("input",{name:"bookerNumber",value:g.bookerNumber,min:1,max:6,step:1,type:"number",onChange:function(e){return C(e,m,g)}})]}),Object(S.jsxs)(p.a.Field,{required:!0,error:!g.bookingDate,children:[Object(S.jsx)("label",{children:"Date de votre reservation"}),Object(S.jsx)("input",{name:"bookingDate",value:g.bookingDate,type:"date",onChange:function(e){return C(e,m,g)}})]}),Object(S.jsxs)(p.a.Field,{required:!0,error:!g.bookingTime,children:[Object(S.jsx)("label",{children:"Heure de votre reservation"}),Object(S.jsx)("input",{name:"bookingTime",value:g.bookingTime,min:"18:30",max:"01:00",type:"time",onChange:function(e){return C(e,m,g)}})]}),Object(S.jsx)(p.a.Field,{children:Object(S.jsx)(h.a,{size:"massive",loading:B,disabled:B||!g.bookerName||!g.bookerNumber||!g.bookerEmail||!g.bookingDate||!g.bookingTime,color:"blue",type:"submit",content:"Je Reserve !"})})]})}),(E||A)&&Object(S.jsxs)(h.a,{color:"blue",icon:!0,type:"button",labelPosition:"left",onClick:function(){return m({bookerName:"",bookerNumber:{},bookingDate:"",bookingTime:"",bookerEmail:""}),_(!1),R(!1),void D(!1)},children:[Object(S.jsx)(f.a,{children:Object(S.jsx)(w.a,{style:{marginTop:"5px"},size:"2x",icon:N.f})}),"Recharger"]})]}):Object(S.jsx)(d.a,{as:"h1",children:"Les r\xe9servations sont d\xe9sactiv\xe9es pour le moment , revenez demain !"})]})},A=n(136),_=n(231),I=(n(207),function(){return Object(S.jsxs)("div",{className:"footer",children:[Object(S.jsx)("div",{children:Object(S.jsxs)(d.a,{as:"h3",children:["Retrouvez nous sur :"," "]})}),Object(S.jsxs)("div",{className:"footer__icons",children:[Object(S.jsx)("a",{target:"_blank",href:"fb://profile/196458368600",rel:"noreferrer",children:Object(S.jsx)(w.a,{style:{color:"#3B5998",background:"white",borderRadius:"100%"},size:"3x",icon:A.a,pull:"left"})}),Object(S.jsx)("a",{target:"_blank",href:"https://www.instagram.com/1755baravin/",rel:"noreferrer",children:Object(S.jsx)(w.a,{style:{color:"#3F729B",borderRadius:"100%"},size:"3x",icon:A.b,pull:"right"})})]}),Object(S.jsx)(_.a,{}),Object(S.jsx)("div",{children:Object(S.jsxs)(d.a,{as:"h3",children:["Contactez nous !"," "]})}),Object(S.jsxs)("div",{className:"footer__icons",children:[Object(S.jsx)("a",{href:"mailto:christophemartinetti@baravin1755.com",children:Object(S.jsx)(w.a,{style:{"--fa-primary-color":"black","--fa-secondary-color":"white","--fa-secondary-opacity":.8},size:"3x",icon:N.c,pull:"left"})}),Object(S.jsx)("a",{href:"tel:0609542757",children:Object(S.jsx)(w.a,{style:{"--fa-primary-color":"firebrick","--fa-secondary-color":"black","--fa-primary-opacity":1,"--fa-secondary-opacity":1},size:"3x",icon:N.e,pull:"right"})})]}),Object(S.jsx)(_.a,{}),Object(S.jsxs)("div",{className:"footer__copyright",style:{color:"white"},children:["Copyright \xa9 ",Object(S.jsx)("a",{style:{color:"white"},href:"https://baravin1755.com",children:Object(S.jsx)("span",{children:"Le 1755 \xa0"})}),Object(S.jsx)("span",{children:" ".concat((new Date).getFullYear(),". ")})]}),Object(S.jsx)("div",{className:"footer__alvp",children:Object(S.jsxs)("a",{style:{color:"white",fontSize:"1em"},href:"mailto:pef@alvp-developments.com",children:["Made with",Object(S.jsx)(w.a,{className:"alvp__icon",color:"darkred",icon:N.d,size:"2x"}),"by ALVP-Developments Ajaccio"]})})]})}),V=n(63),E=(n(208),function(e){var t=e.user,n=e.loading;return Object(S.jsxs)("div",{className:"topappbar",children:[Object(S.jsx)(V.b,{to:"/",children:Object(S.jsx)("div",{className:"topappbar-image",children:Object(S.jsx)("img",{src:"./images/1755small.png",alt:"logo 1755"})})}),Object(S.jsxs)("div",{className:"topappbar-icons",children:[Object(S.jsx)(V.b,{to:"/login",children:Object(S.jsx)(h.a,{icon:!0,color:t?"green":"grey",circular:!0,disabled:n,loading:n,children:Object(S.jsx)(w.a,{size:"3x",icon:N.i})})}),"isAdmin"===t&&Object(S.jsx)(V.b,{to:"/bookings",children:Object(S.jsx)(h.a,{icon:!0,circular:!0,disabled:n,loading:n,children:Object(S.jsx)(w.a,{size:"3x",icon:N.a})})})]})]})}),R=(n(214),n(234)),L=function(e){var t=e.setUser,n=e.setMessage,a=Object(r.useState)({email:"",password:""}),s=Object(u.a)(a,2),c=s[0],l=s[1],b=Object(r.useState)(!1),d=Object(u.a)(b,2),j=d[0],f=d[1],x=function(){var e=Object(i.a)(o.a.mark((function e(r){var a,s,i,u,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),f(!0),e.next=4,y.auth(c);case 4:(a=e.sent)&&200===a.data.status?(s=a.data,i=s.role,u=s.message,l=s.token,n({success:!0,message:u}),f(!1),localStorage.setItem("token-".concat(v),l),t(i)):(f(!1),n({success:!1,message:a.data.message||"Identifiants incorrects"}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(S.jsx)("div",{className:"home",children:Object(S.jsxs)(p.a,{onSubmit:x,children:[Object(S.jsxs)(p.a.Field,{required:!0,error:!c.email,children:[Object(S.jsx)("label",{htmlFor:"",children:"Email"}),Object(S.jsx)("input",{type:"email",name:"email",value:c.email,onChange:function(e){return C(e,l,c)}})]}),Object(S.jsxs)(p.a.Field,{required:!0,error:!c.password,children:[Object(S.jsx)("label",{htmlFor:"",children:"Mot de passe"}),Object(S.jsx)("input",{type:"password",name:"password",value:c.password,onChange:function(e){return C(e,l,c)}})]}),Object(S.jsx)(p.a.Field,{children:Object(S.jsx)(h.a,{size:"massive",loading:j,disabled:j||!c.email||!c.password,color:"blue",type:"submit",content:"Connexion"})})]})})},M=n(66),P=n(122),T=(n(215),function(e){var t=e.bookerName,n=e.bookerNumber,r=e.bookingDate,a=e.bookingTime,s=e.bookingValidatedByAdmin;return Object(S.jsxs)("div",{className:"booking",style:{border:s?"3px solid green":!1===s?"3px solid pink":""},children:[Object(S.jsx)(P.a,{color:s?"green":!1===s?"pink":"blue",ribbon:!0,children:s?"Accept\xe9e":!1===s?"Refus\xe9e":"Nouvelle"}),Object(S.jsx)("h2",{className:"booking-title",children:t}),Object(S.jsxs)("p",{className:"booking-date",children:[Object(S.jsxs)("span",{children:[D(r)[1],", Le "]}),Object(S.jsx)("span",{children:new Date(r).toLocaleString("fr-FR",{weekday:"long",day:"numeric",month:"long",year:"numeric"})}),Object(S.jsxs)("p",{children:[" \xe0 ",a]})]}),Object(S.jsxs)("p",{className:"booking-number",children:["Pour : ",Object(S.jsx)("span",{children:n})," personnes"]})]})}),q=(n(216),function(e){var t=e.booking,n=e.handleValidateBooking,r=e.handleDeleteBooking;return Object(S.jsxs)("div",{className:"bookingcontrols",children:[null===t.bookingValidatedByAdmin&&Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(h.a,{icon:!0,color:"green",circular:!0,onClick:function(){return n(t,!0)},children:Object(S.jsx)(w.a,{icon:N.b})}),Object(S.jsx)(h.a,{icon:!0,color:"pink",circular:!0,onClick:function(){return n(t,!1)},children:Object(S.jsx)(w.a,{icon:N.g})})]}),null!==t.bookingValidatedByAdmin&&Object(S.jsx)(h.a,{icon:!0,color:"red",circular:!0,onClick:function(){return r(t)},children:Object(S.jsx)(w.a,{icon:N.h})})]})}),J=(n(217),function(e){var t=e.setFilter,n=e.bookings;return Object(S.jsxs)("div",{className:"filterbuttons",children:[Object(S.jsxs)("div",{style:{position:"relative"},children:[Object(S.jsx)(h.a,{className:"filterbuttons-button",size:"mini",color:"red",content:"Jours Pr\xe9c\xe9dents",onClick:function(){t(-1)}}),Object(S.jsx)(P.a,{style:{position:"absolute",top:"-11px",left:"3px"},color:"blue",circular:!0,children:z(n,D,-1).length})]}),Object(S.jsxs)("div",{style:{position:"relative"},children:[Object(S.jsx)(h.a,{className:"filterbuttons-button",size:"mini",color:"green",content:"Aujourd'hui",onClick:function(){t(0)}}),Object(S.jsx)(P.a,{style:{position:"absolute",top:"-11px",left:"3px"},color:"blue",circular:!0,children:z(n,D,0).length})]}),Object(S.jsxs)("div",{style:{position:"relative"},children:[Object(S.jsx)(h.a,{className:"filterbuttons-button",size:"mini",color:"purple",content:"Demain",onClick:function(){t(1)}}),Object(S.jsx)(P.a,{style:{position:"absolute",top:"-11px",left:"3px"},color:"blue",circular:!0,children:z(n,D,1).length})]}),Object(S.jsxs)("div",{style:{position:"relative"},children:[Object(S.jsx)(h.a,{className:"filterbuttons-button",size:"mini",color:"yellow",content:"Jours Suivants",onClick:function(){return t(2)}}),Object(S.jsx)(P.a,{style:{position:"absolute",top:"-11px",left:"3px"},color:"blue",circular:!0,children:z(n,D,2).length})]})]})}),U=function(e){var t=e.setMessage,n=Object(r.useState)(!1),a=Object(u.a)(n,2),s=a[0],c=a[1],l=Object(r.useState)([]),b=Object(u.a)(l,2),d=b[0],j=b[1],p=Object(r.useState)(0),h=Object(u.a)(p,2),f=h[0],x=h[1];Object(r.useEffect)((function(){var e=localStorage.getItem("token-".concat(v));function n(){return(n=Object(i.a)(o.a.mark((function n(){var r,a,s,i;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c(!0),n.next=3,y.getAllBookings(e);case 3:(r=n.sent)&&200===r.data.status?(a=r.data,s=a.bookings,i=a.message,s.sort((function(e,t){return new Date(e.bookingDate)-new Date(t.bookingDate)})).sort((function(e,t){return(null===t.bookingValidatedByAdmin)-(null===e.bookingValidatedByAdmin)})),j(Object(M.a)(s)),c(!1),t({success:!0,message:i})):(c(!1),t({success:!1,message:"Il y a eu un probl\xe9me"}));case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}!function(){n.apply(this,arguments)}()}),[]);var g=function(){var e=Object(i.a)(o.a.mark((function e(n,r){var a,s,i,u,l,b;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),a=localStorage.getItem("token-".concat(v)),n.bookingValidatedByAdmin=r,e.next=5,y.updateBooking(n,a);case 5:(s=e.sent)&&200===s.data.status?(i=s.data,u=i.updatedBooking,l=i.message,b=d.findIndex((function(e){return e._id===n._id})),d.splice(b,1),j([].concat(Object(M.a)(d),[u])),c(!1),t({success:!0,message:l})):(c(!1),t({success:!1,message:"Il y \xe0 eu un probl\xe8me"}));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),m=function(){var e=Object(i.a)(o.a.mark((function e(n){var r,a,s,i,u,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),r=localStorage.getItem("token-".concat(v)),e.next=4,y.deleteBooking(n,r);case 4:(a=e.sent)&&200===a.data.status?(s=a.data,i=s.deletedBooking,u=s.message,l=d.findIndex((function(e){return e._id===i._id})),d.splice(l,1),j(Object(M.a)(d)),c(!1),t({success:!0,message:u})):(c(!1),t({success:!1,message:"Il y \xe0 eu un probl\xe8me"}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(S.jsxs)("div",{children:[Object(S.jsx)(J,{setFilter:x,bookings:d,filter:f}),d.length>0&&z(d,D,f).map((function(e){return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(q,{booking:e,loading:s,handleValidateBooking:g,handleDeleteBooking:m}),Object(S.jsx)(T,Object(B.a)(Object(B.a)({},e),{},{loading:s})),Object(S.jsx)(_.a,{})]})})),0===d.length&&Object(S.jsx)("div",{style:{height:"300px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",margin:"1.8em",color:"white",fontSize:"1.5em"},children:Object(S.jsx)("p",{children:"D\xe9sol\xe9 , Il n'y a pas de reservations aujourd'hui :-("})})]})},H=n(67),Y=function(){var e=Object(r.useState)(""),t=Object(u.a)(e,2),n=t[0],a=t[1],s=Object(r.useState)({}),c=Object(u.a)(s,2),b=c[0],d=c[1],p=Object(r.useState)({}),h=Object(u.a)(p,2),f=h[0],x=h[1],g=Object(r.useState)(!1),m=Object(u.a)(g,2),O=m[0],v=m[1];return Object(r.useEffect)((function(){0!==Object.keys(b).length&&setTimeout((function(){d({})}),5e3)}),[b]),Object(r.useEffect)((function(){function e(){return(e=Object(i.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),e.next=3,y.getConfig();case 3:(t=e.sent)&&200===t.data.status?(x(t.data.config),v(!1)):(v(!1),d({success:!1,message:t.data.message}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(r.useEffect)((function(){H.a.requestPermissions().then((function(e){"granted"===e.receive&&H.a.register()})),H.a.addListener("registration",(function(e){alert("Push registration success, token: "+e.value)})),H.a.addListener("registrationError",(function(e){alert("Error on registration: "+JSON.stringify(e))})),H.a.addListener("pushNotificationReceived",(function(e){alert("Push received: "+JSON.stringify(e))})),H.a.addListener("pushNotificationActionPerformed",(function(e){alert("Push action performed: "+JSON.stringify(e))}))}),[]),Object(S.jsxs)("div",{className:"app",children:[Object(S.jsx)(E,{user:n,loading:O}),Object(S.jsx)(_.a,{}),Object(S.jsx)(j.a,{animation:"jiggle",duration:500,visible:Object.keys(b).length>0,children:Object(S.jsx)(R.a,{style:{position:"fixed",top:15,zIndex:"1000",width:"100%"},hidden:0===Object.keys(b).length,success:!!b.success,error:!b.success,children:b.message})}),Object(S.jsxs)(l.d,{children:[Object(S.jsx)(l.b,{exact:!0,path:"/",children:Object(S.jsx)(F,{user:n,message:b,setMessage:d,resaOpen:f.resaOpen,config:f,setConfig:x})}),Object(S.jsx)(l.b,{path:"/login",children:n?Object(S.jsx)(l.a,{to:"/bookings"}):Object(S.jsx)(L,{setUser:a,setMessage:d})}),Object(S.jsx)(l.b,{path:"/bookings",children:n?Object(S.jsx)(U,{setMessage:d}):Object(S.jsx)(l.a,{to:"/login"})})]}),Object(S.jsx)(_.a,{}),Object(S.jsx)(I,{})]})},G=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,239)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),s(e),c(e)}))};n(218);s.a.render(Object(S.jsx)(V.a,{basename:"/",children:Object(S.jsx)(Y,{})}),document.getElementById("root")),G()}},[[219,1,2]]]);
//# sourceMappingURL=main.481b5b39.chunk.js.map